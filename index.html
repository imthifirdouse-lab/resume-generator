<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Resume Builder</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #eef2f5; display: flex; justify-content: center; padding: 20px; }
        .app-container { background: white; width: 100%; max-width: 900px; padding: 40px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        
        h1 { text-align: center; color: #2c3e50; font-size: 28px; margin-bottom: 10px; }
        p.subtitle { text-align: center; color: #7f8c8d; margin-bottom: 40px; }
        
        .form-section { margin-bottom: 30px; border-bottom: 1px solid #eee; padding-bottom: 20px; }
        .form-section h3 { color: #34495e; margin-bottom: 15px; text-transform: uppercase; font-size: 14px; letter-spacing: 1px; }
        
        label { display: block; font-weight: 600; margin: 10px 0 5px; color: #2c3e50; font-size: 0.9rem; }
        input, textarea { width: 100%; padding: 12px; border: 1px solid #dfe6e9; border-radius: 6px; font-size: 14px; box-sizing: border-box; transition: 0.3s; }
        input:focus, textarea:focus { border-color: #3498db; outline: none; box-shadow: 0 0 5px rgba(52, 152, 219, 0.2); }
        textarea { resize: vertical; font-family: inherit; }

        .btn-download { background: linear-gradient(135deg, #2980b9, #2c3e50); color: white; border: none; padding: 15px 30px; font-size: 16px; font-weight: bold; border-radius: 8px; cursor: pointer; width: 100%; margin-top: 20px; box-shadow: 0 4px 15px rgba(44, 62, 80, 0.3); transition: transform 0.2s; }
        .btn-download:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(44, 62, 80, 0.4); }

        .row { display: flex; gap: 20px; }
        .col { flex: 1; }
        @media (max-width: 600px) { .row { flex-direction: column; } }
    </style>
</head>
<body>

<div class="app-container">
    <h1>üöÄ Modern Resume Architect</h1>
    <p class="subtitle">Enter your details below to generate a professional, split-column resume.</p>

    <div class="form-section">
        <h3>üë§ Personal Identity</h3>
        <div class="row">
            <div class="col">
                <label>Full Name</label>
                <input type="text" id="name" placeholder="Imtheyas F.M">
            </div>
            <div class="col">
                <label>Job Title</label>
                <input type="text" id="jobTitle" placeholder="Technical Team Lead">
            </div>
        </div>
        <div class="row">
            <div class="col">
                <label>Phone</label>
                <input type="text" id="phone" placeholder="+91-8248524660">
            </div>
            <div class="col">
                <label>Email</label>
                <input type="text" id="email" placeholder="mohamedimtheyas254@gmail.com">
            </div>
            <div class="col">
                <label>Location</label>
                <input type="text" id="location" placeholder="Coimbatore, India">
            </div>
        </div>
    </div>

    <div class="form-section">
        <h3>üõ†Ô∏è Sidebar Content (Skills & Edu)</h3>
        <div class="row">
            <div class="col">
                <label>Skills (One per line)</label>
                <textarea id="skills" rows="5">Perl (Modern)
DMN Architecture
SQL / Unix Shell
Agile / Scrum
Jira / Atlas
Legacy Migration
Team Leadership</textarea>
            </div>
            <div class="col">
                <label>Education & Certs</label>
                <textarea id="education" rows="5">B.E. ECE (2019)
Sri Eshwar College

GitHub Copilot Cert
NPTEL IoT Cert</textarea>
            </div>
        </div>
    </div>

    <div class="form-section">
        <h3>üìÑ Main Experience</h3>
        <label>Professional Summary</label>
        <textarea id="summary" rows="3">Results-oriented Technical Team Lead with 4+ years of experience driving legacy modernization. Expert in migrating Perl-based logic to DMN architectures and facilitating Agile ceremonies to improve delivery velocity.</textarea>
        
        <label>Experience 1 (Latest)</label>
        <textarea id="exp1" rows="5">Team Lead / Senior Software Engineer
GAVS Technologies | 09/2022 - Present
‚Ä¢ Orchestrated migration of legacy business logic from Perl to DMN, reducing latency by 20%.
‚Ä¢ Facilitated Scrum ceremonies (Planning, Reviews) for a team of 5 engineers.
‚Ä¢ Collaborated with Product Owners to refine requirements and ensure alignment.</textarea>

        <label>Experience 2</label>
        <textarea id="exp2" rows="5">Software Engineer
RR Donnelly | 04/2021 - 09/2022
‚Ä¢ Engineered Perl-based data integration solutions to support high-volume environments.
‚Ä¢ Resolved critical production issues via on-call rotation, ensuring 99.9% uptime.
‚Ä¢ Optimized existing scripts reducing data processing time by 15%.</textarea>

        <label>Experience 3</label>
        <textarea id="exp3" rows="5">Member Technical
Broadridge Financial | 05/2019 - 01/2021
‚Ä¢ Refactored Perl modules to improve application security and readability.
‚Ä¢ Integrated new data sources to enhance system reporting capabilities.
‚Ä¢ Awarded 'Quarterly Star' twice for delivery excellence.</textarea>
    </div>

    <button class="btn-download" onclick="generateModernPDF()">‚ú® Generate Modern PDF</button>
</div>

<script>
    function generateModernPDF() {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();

        // COLORS
        const SIDEBAR_COLOR = [44, 62, 80]; // Dark Navy
        const TEXT_LIGHT = [255, 255, 255]; // White
        const TEXT_DARK = [44, 62, 80]; // Dark Grey
        const ACCENT_COLOR = [52, 152, 219]; // Light Blue

        // DIMENSIONS
        const pageHeight = doc.internal.pageSize.height;
        const pageWidth = doc.internal.pageSize.width;
        const sidebarWidth = 65; // Width of left column
        const margin = 10;
        
        // --- DRAW SIDEBAR (LEFT) ---
        doc.setFillColor(...SIDEBAR_COLOR);
        doc.rect(0, 0, sidebarWidth, pageHeight, 'F');

        // --- SIDEBAR CONTENT ---
        let ySide = 20;

        // Photo Placeholder (Circle)
        doc.setFillColor(200, 200, 200);
        doc.circle(sidebarWidth/2, 35, 18, 'F');
        doc.setFontSize(24);
        doc.setTextColor(255, 255, 255);
        // Initials inside circle
        const nameVal = document.getElementById('name').value || "IM";
        const initials = nameVal.split(' ').map(n => n[0]).join('').substring(0,2);
        doc.text(initials, (sidebarWidth/2)-6, 43);

        ySide = 70;

        // Helper: Sidebar Section
        function addSidebarSection(title, contentId) {
            doc.setFont("helvetica", "bold");
            doc.setFontSize(12);
            doc.setTextColor(...ACCENT_COLOR);
            doc.text(title.toUpperCase(), margin, ySide);
            ySide += 7;

            doc.setFont("helvetica", "normal");
            doc.setFontSize(10);
            doc.setTextColor(...TEXT_LIGHT);
            
            const text = document.getElementById(contentId).value;
            const splitText = doc.splitTextToSize(text, sidebarWidth - (margin*2));
            doc.text(splitText, margin, ySide);
            ySide += (splitText.length * 5) + 10;
        }

        // Contact Info (Manual Render for icons)
        doc.setFont("helvetica", "bold");
        doc.setFontSize(12);
        doc.setTextColor(...ACCENT_COLOR);
        doc.text("CONTACT", margin, ySide);
        ySide += 8;
        doc.setFont("helvetica", "normal");
        doc.setFontSize(9);
        doc.setTextColor(...TEXT_LIGHT);
        
        const phone = document.getElementById('phone').value;
        const email = document.getElementById('email').value;
        const loc = document.getElementById('location').value;
        
        doc.text(phone, margin, ySide); ySide += 6;
        const splitEmail = doc.splitTextToSize(email, sidebarWidth - 15);
        doc.text(splitEmail, margin, ySide); ySide += (splitEmail.length * 5) + 2;
        doc.text(loc, margin, ySide); ySide += 15;

        // Skills & Education
        addSidebarSection("SKILLS", "skills");
        addSidebarSection("EDUCATION", "education");


        // --- MAIN CONTENT (RIGHT) ---
        let yMain = 20;
        const xMain = sidebarWidth + 15;
        const mainWidth = pageWidth - sidebarWidth - 25;

        // Header (Name & Title)
        const name = document.getElementById('name').value || "YOUR NAME";
        const job = document.getElementById('jobTitle').value || "JOB TITLE";

        doc.setFont("helvetica", "bold");
        doc.setFontSize(26);
        doc.setTextColor(...TEXT_DARK);
        doc.text(name.toUpperCase(), xMain, yMain + 5);
        
        doc.setFontSize(14);
        doc.setTextColor(...ACCENT_COLOR);
        doc.text(job.toUpperCase(), xMain, yMain + 14);
        
        doc.setDrawColor(200, 200, 200);
        doc.line(xMain, yMain + 20, pageWidth - margin, yMain + 20);
        
        yMain += 30;

        // Helper: Main Section
        function addMainSection(title, content) {
            // Check Page Break
            if (yMain > 250) { doc.addPage(); yMain = 20; }

            doc.setFont("helvetica", "bold");
            doc.setFontSize(12);
            doc.setTextColor(...TEXT_DARK);
            doc.text(title.toUpperCase(), xMain, yMain);
            
            // Blue underline for headers
            doc.setDrawColor(...ACCENT_COLOR);
            doc.setLineWidth(1);
            doc.line(xMain, yMain + 2, xMain + 30, yMain + 2);
            
            yMain += 10;
            doc.setFont("helvetica", "normal");
            doc.setFontSize(10.5);
            doc.setTextColor(60, 60, 60);

            const lines = doc.splitTextToSize(content, mainWidth);
            doc.text(lines, xMain, yMain);
            yMain += (lines.length * 6) + 10;
        }

        // Summary
        addMainSection("Professional Summary", document.getElementById('summary').value);

        // Experience Loop
        function addExperience(id) {
            const raw = document.getElementById(id).value;
            if(!raw) return;
            
            const lines = raw.split('\n');
            const titleLine = lines[0]; // Title
            const companyLine = lines[1]; // Company
            const bullets = lines.slice(2).join('\n'); // Description

            if (yMain > 240) { doc.addPage(); yMain = 20; }

            // Title
            doc.setFont("helvetica", "bold");
            doc.setFontSize(12);
            doc.setTextColor(0, 0, 0);
            doc.text(titleLine, xMain, yMain);
            yMain += 5;

            // Company & Date
            doc.setFont("helvetica", "italic");
            doc.setFontSize(10);
            doc.setTextColor(100, 100, 100);
            doc.text(companyLine, xMain, yMain);
            yMain += 6;

            // Bullets
            doc.setFont("helvetica", "normal");
            doc.setTextColor(60, 60, 60);
            const splitBullets = doc.splitTextToSize(bullets, mainWidth);
            doc.text(splitBullets, xMain, yMain);
            yMain += (splitBullets.length * 5) + 8;
        }
        
        // Experience Header
        doc.setFont("helvetica", "bold");
        doc.setFontSize(12);
        doc.setTextColor(...TEXT_DARK);
        doc.text("WORK HISTORY", xMain, yMain);
        doc.setDrawColor(...ACCENT_COLOR);
        doc.line(xMain, yMain + 2, xMain + 30, yMain + 2);
        yMain += 10;

        addExperience('exp1');
        addExperience('exp2');
        addExperience('exp3');

        doc.save("Modern_Resume.pdf");
    }
</script>

</body>
</html>
